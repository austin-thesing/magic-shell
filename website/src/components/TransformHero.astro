---
// Hero component with animated typing transformation - CLI and TUI modes
import InstallBlock from "./InstallBlock.astro";
---

<section class="hero">
  <div class="hero-bg">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="grid-pattern"></div>
  </div>

  <div class="hero-content container">
    <!-- Centered header content -->
    <div class="hero-header">
      <div class="hero-badge">
        <span class="badge-dot"></span>
        <span>Open Source CLI Tool</span>
      </div>

      <h1 class="hero-title">
        <span class="title-line">Type what you mean.</span>
        <span class="highlight">Execute what you need.</span>
      </h1>

      <p class="hero-subtitle">
        Transform natural language into terminal commands with AI-powered translation and built-in safety analysis.
      </p>

      <div class="hero-actions">
        <a href="/getting-started/installation/" class="btn btn-primary">
          Get Started
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
        <a href="https://github.com/austin-thesing/magic-shell" class="btn btn-secondary" target="_blank" rel="noopener">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          GitHub
        </a>
      </div>
    </div>

    <!-- Demo section -->
    <div class="hero-demo">
      <div class="demo-tabs">
        <button class="demo-tab active" data-mode="cli">CLI Mode</button>
        <button class="demo-tab" data-mode="tui">TUI Mode</button>
      </div>

      <div class="demo-container">
        <!-- CLI Demo -->
        <div class="demo-window cli-demo active" data-demo="cli">
          <div class="demo-header">
            <div class="demo-lights">
              <span></span><span></span><span></span>
            </div>
            <span class="demo-title">terminal</span>
          </div>
          <div class="demo-body">
            <div class="demo-input-line">
              <span class="prompt">$</span>
              <span class="typing-container">
                <span class="typing-text" id="typing-input"></span>
                <span class="cursor"></span>
              </span>
            </div>
            <div class="demo-output-line" id="demo-output">
              <span class="output-arrow">-></span>
              <span class="output-text" id="output-text"></span>
            </div>
          </div>
        </div>

        <!-- TUI Demo -->
        <div class="demo-window tui-demo" data-demo="tui">
          <div class="demo-header">
            <div class="demo-lights">
              <span></span><span></span><span></span>
            </div>
            <span class="demo-title">magic-shell</span>
            <div class="demo-header-right">
              <span class="model-badge">grok-3</span>
            </div>
          </div>
          <div class="tui-body">
            <div class="tui-status-bar">
              <span class="status-item"><span class="status-key">Provider:</span> opencode-zen</span>
              <span class="status-item"><span class="status-key">Model:</span> grok-3</span>
              <span class="status-item mode-safe"><span class="status-dot"></span> Safe Mode</span>
            </div>

            <div class="tui-output">
              <div class="tui-message user-message" id="tui-user-msg">
                <span class="msg-prefix">></span>
                <span class="msg-text" id="tui-query"></span>
              </div>
              <div class="tui-message ai-message" id="tui-ai-msg">
                <div class="ai-response">
                  <div class="response-label">Command:</div>
                  <code class="response-command" id="tui-command"></code>
                </div>
                <div class="safety-badge" id="tui-safety">
                  <span class="safety-dot"></span>
                  <span class="safety-text">Low risk</span>
                </div>
              </div>
              <div class="tui-message exec-message" id="tui-exec-msg">
                <div class="exec-header">
                  <span class="exec-icon">></span>
                  <span class="exec-label">Auto-executed (safe command)</span>
                </div>
                <pre class="exec-output" id="tui-exec-output"></pre>
              </div>
            </div>

            <div class="tui-input-area">
              <span class="tui-prompt">~></span>
              <span class="tui-input-text" id="tui-input"></span>
              <span class="tui-cursor"></span>
            </div>

            <div class="tui-help-bar">
              <span class="help-item"><kbd>Enter</kbd> Execute</span>
              <span class="help-item"><kbd>Ctrl+T</kbd> Theme</span>
              <span class="help-item"><kbd>Ctrl+D</kbd> Dry-run</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Install block -->
    <div class="hero-install">
      <InstallBlock platform="bun" variant="compact" />
    </div>
  </div>
</section>

<script>
  // CLI Examples
  const cliExamples = [
    { input: 'msh "find all large files"', output: 'find . -type f -size +100M' },
    { input: 'msh "undo my last commit"', output: 'git reset --soft HEAD~1' },
    { input: 'msh "what process uses port 3000"', output: 'lsof -i :3000' },
    { input: 'msh "compress this folder"', output: 'tar -czvf archive.tar.gz .' },
    { input: 'msh "show disk usage"', output: 'df -h' },
  ];

  // TUI Examples - with sample output for safe commands
  const tuiExamples = [
    { 
      query: 'find files modified today', 
      command: 'find . -mtime 0 -type f', 
      safety: 'Low risk',
      output: './src/components/Hero.tsx\n./package.json\n./README.md'
    },
    { 
      query: 'kill process on port 8080', 
      command: 'kill $(lsof -t -i:8080)', 
      safety: 'Medium risk',
      output: null // No auto-execute for medium risk
    },
    { 
      query: 'show git log with graph', 
      command: 'git log --oneline --graph --all', 
      safety: 'Low risk',
      output: '* a3f2c1d feat: add hero component\n* 8b1e4a2 fix: button styles\n* 2c9f0e1 init: project setup'
    },
    { 
      query: 'show disk usage', 
      command: 'df -h', 
      safety: 'Low risk',
      output: 'Filesystem      Size  Used Avail Use%\n/dev/sda1       256G  180G   76G  70%'
    },
    { 
      query: 'find and delete node_modules', 
      command: 'find . -name "node_modules" -type d -prune -exec rm -rf {} +', 
      safety: 'High risk',
      output: null // No auto-execute for high risk
    },
  ];

  let cliIndex = 0;
  let tuiIndex = 0;
  let currentMode: 'cli' | 'tui' = 'cli';
  let animationId = 0;
  let cycleCount = 0;
  const CYCLES_BEFORE_SWITCH = 3;

  // DOM Elements - CLI
  const typingInput = document.getElementById('typing-input');
  const outputText = document.getElementById('output-text');
  const outputLine = document.getElementById('demo-output');

  // DOM Elements - TUI
  const tuiQuery = document.getElementById('tui-query');
  const tuiCommand = document.getElementById('tui-command');
  const tuiInput = document.getElementById('tui-input');
  const tuiUserMsg = document.getElementById('tui-user-msg');
  const tuiAiMsg = document.getElementById('tui-ai-msg');
  const tuiSafety = document.getElementById('tui-safety');
  const tuiExecMsg = document.getElementById('tui-exec-msg');
  const tuiExecOutput = document.getElementById('tui-exec-output');

  // Tab switching
  const tabs = document.querySelectorAll('.demo-tab');
  const demos = document.querySelectorAll('.demo-window');

  // Smooth easing for typing - variable speed that feels more natural
  function getTypingDelay(baseSpeed: number, charIndex: number, totalLength: number): number {
    // Slightly faster in the middle, slower at start/end
    const progress = charIndex / totalLength;
    const curve = Math.sin(progress * Math.PI) * 0.3 + 0.85;
    // Add small random variation for natural feel
    const jitter = 0.9 + Math.random() * 0.2;
    return baseSpeed * curve * jitter;
  }

  function switchToMode(mode: 'cli' | 'tui') {
    if (mode === currentMode) return;
    
    // Cancel current animation
    animationId++;
    currentMode = mode;
    cycleCount = 0;
    
    tabs.forEach(t => t.classList.remove('active'));
    const activeTab = document.querySelector(`.demo-tab[data-mode="${mode}"]`);
    activeTab?.classList.add('active');
    
    // Crossfade transition
    demos.forEach(d => {
      const isTarget = d.getAttribute('data-demo') === mode;
      if (isTarget) {
        d.classList.add('active');
      } else {
        d.classList.add('fading-out');
        setTimeout(() => {
          d.classList.remove('active', 'fading-out');
        }, 300);
      }
    });

    // Small delay before starting new demo for smooth transition
    setTimeout(() => {
      if (mode === 'cli') {
        runCliDemo();
      } else {
        runTuiDemo();
      }
    }, 150);
  }

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const mode = tab.getAttribute('data-mode') as 'cli' | 'tui';
      switchToMode(mode);
    });
  });

  async function typeText(element: HTMLElement | null, text: string, baseSpeed = 45, myAnimationId: number) {
    if (!element) return false;
    element.textContent = '';
    
    for (let i = 0; i < text.length; i++) {
      if (animationId !== myAnimationId) return false;
      element.textContent += text[i];
      const delay = getTypingDelay(baseSpeed, i, text.length);
      await new Promise(r => setTimeout(r, delay));
    }
    return true;
  }

  // Smooth reveal for output text with typewriter effect
  async function revealText(element: HTMLElement | null, text: string, myAnimationId: number) {
    if (!element) return false;
    element.textContent = '';
    
    // Fast reveal - shows competence of the AI
    const chunkSize = 3;
    for (let i = 0; i < text.length; i += chunkSize) {
      if (animationId !== myAnimationId) return false;
      element.textContent = text.slice(0, i + chunkSize);
      await new Promise(r => setTimeout(r, 12));
    }
    element.textContent = text;
    return true;
  }

  async function runCliDemo() {
    if (currentMode !== 'cli') return;
    
    const myAnimationId = ++animationId;
    const example = cliExamples[cliIndex];
    
    // Reset with fade
    outputLine?.classList.remove('visible');
    if (outputText) outputText.textContent = '';
    if (typingInput) typingInput.textContent = '';
    
    // Brief pause before typing starts
    await new Promise(r => setTimeout(r, 400));
    if (animationId !== myAnimationId) return;
    
    // Type input with natural feel
    if (typingInput) {
      const completed = await typeText(typingInput, example.input, 38, myAnimationId);
      if (!completed) return;
    }

    if (currentMode !== 'cli' || animationId !== myAnimationId) return;
    
    // "Processing" pause - feels like AI thinking
    await new Promise(r => setTimeout(r, 600));
    if (animationId !== myAnimationId) return;
    
    // Show output with smooth reveal
    if (outputText) {
      outputLine?.classList.add('visible');
      await new Promise(r => setTimeout(r, 150));
      if (animationId !== myAnimationId) return;
      await revealText(outputText, example.output, myAnimationId);
    }
    
    // Comfortable reading time
    await new Promise(r => setTimeout(r, 3500));
    if (animationId !== myAnimationId) return;
    
    cliIndex = (cliIndex + 1) % cliExamples.length;
    cycleCount++;
    
    if (cycleCount >= CYCLES_BEFORE_SWITCH) {
      switchToMode('tui');
    } else if (currentMode === 'cli') {
      runCliDemo();
    }
  }

  async function runTuiDemo() {
    if (currentMode !== 'tui') return;

    const myAnimationId = ++animationId;
    const example = tuiExamples[tuiIndex];
    
    // Reset with fade
    tuiUserMsg?.classList.remove('visible');
    tuiAiMsg?.classList.remove('visible');
    tuiExecMsg?.classList.remove('visible');
    if (tuiQuery) tuiQuery.textContent = '';
    if (tuiCommand) tuiCommand.textContent = '';
    if (tuiInput) tuiInput.textContent = '';
    if (tuiExecOutput) tuiExecOutput.textContent = '';

    // Update safety badge
    if (tuiSafety) {
      tuiSafety.className = 'safety-badge';
      if (example.safety === 'High risk') {
        tuiSafety.classList.add('high');
      } else if (example.safety === 'Medium risk') {
        tuiSafety.classList.add('medium');
      } else {
        tuiSafety.classList.add('low');
      }
      const safetyText = tuiSafety.querySelector('.safety-text');
      if (safetyText) safetyText.textContent = example.safety;
    }

    // Brief pause before typing
    await new Promise(r => setTimeout(r, 400));
    if (animationId !== myAnimationId) return;

    // Type in input area with natural feel
    const completed = await typeText(tuiInput, example.query, 32, myAnimationId);
    if (!completed) return;
    
    if (currentMode !== 'tui' || animationId !== myAnimationId) return;

    // "Enter" pause
    await new Promise(r => setTimeout(r, 350));
    if (animationId !== myAnimationId) return;
    if (tuiInput) tuiInput.textContent = '';
    
    // Show user message with smooth entrance
    if (tuiQuery) tuiQuery.textContent = example.query;
    tuiUserMsg?.classList.add('visible');
    
    // AI "thinking" pause
    await new Promise(r => setTimeout(r, 500));
    if (currentMode !== 'tui' || animationId !== myAnimationId) return;

    // Show AI response
    if (tuiCommand) tuiCommand.textContent = example.command;
    tuiAiMsg?.classList.add('visible');

    // Show execution output for safe commands
    if (example.output && example.safety === 'Low risk') {
      await new Promise(r => setTimeout(r, 600));
      if (animationId !== myAnimationId) return;
      
      if (tuiExecOutput) tuiExecOutput.textContent = example.output;
      tuiExecMsg?.classList.add('visible');
    }

    // Reading time
    await new Promise(r => setTimeout(r, 4000));
    if (animationId !== myAnimationId) return;
    
    tuiIndex = (tuiIndex + 1) % tuiExamples.length;
    cycleCount++;
    
    if (cycleCount >= CYCLES_BEFORE_SWITCH) {
      switchToMode('cli');
    } else if (currentMode === 'tui') {
      runTuiDemo();
    }
  }

  // Start demo after page settles
  setTimeout(runCliDemo, 800);
</script>

<style>
  .hero {
    position: relative;
    padding: var(--space-16) 0 var(--space-12);
    overflow: hidden;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .gradient-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(120px);
  }

  .orb-1 {
    width: 600px;
    height: 600px;
    background: var(--color-primary);
    top: -200px;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0.12;
  }

  .orb-2 {
    width: 400px;
    height: 400px;
    background: var(--color-secondary);
    bottom: -100px;
    left: 20%;
    opacity: 0.08;
  }

  .grid-pattern {
    position: absolute;
    inset: 0;
    background-image: 
      linear-gradient(var(--border-subtle) 1px, transparent 1px),
      linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px);
    background-size: 60px 60px;
    opacity: 0.25;
    mask-image: radial-gradient(ellipse 70% 60% at 50% 40%, black 10%, transparent 70%);
    -webkit-mask-image: radial-gradient(ellipse 70% 60% at 50% 40%, black 10%, transparent 70%);
  }

  .hero-content {
    position: relative;
    max-width: 900px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }

  /* Centered header */
  .hero-header {
    text-align: left;
    margin-bottom: var(--space-10);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-1) var(--space-3);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: 100px;
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--text-secondary);
    margin-bottom: var(--space-5);
    align-self: flex-start;
  }

  .badge-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--color-success);
    box-shadow: 0 0 8px var(--color-success);
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  .hero-title {
    font-size: clamp(2.25rem, 5vw, 3.5rem);
    font-weight: 700;
    line-height: 1.1;
    margin-bottom: var(--space-5);
    letter-spacing: -0.03em;
  }

  .hero-title .title-line {
    display: block;
    color: var(--text-primary);
  }

  .hero-title .highlight {
    display: block;
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-warning) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-subtitle {
    font-size: var(--text-lg);
    color: var(--text-secondary);
    max-width: 540px;
    margin: 0 0 var(--space-7) 0;
    line-height: 1.6;
  }

  .hero-actions {
    display: flex;
    gap: var(--space-3);
    justify-content: flex-start;
    flex-wrap: wrap;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    font-weight: 500;
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
    text-decoration: none;
  }

  .btn-primary {
    background: var(--color-primary);
    color: var(--bg-void);
  }

  .btn-primary:hover {
    background: var(--color-primary-dim);
    color: var(--bg-void);
    transform: translateY(-1px);
    box-shadow: 0 4px 20px var(--color-primary-glow);
  }

  .btn-secondary {
    background: var(--bg-elevated);
    color: var(--text-primary);
    border: 1px solid var(--border-subtle);
  }

  .btn-secondary:hover {
    border-color: var(--border-active);
    color: var(--text-primary);
    transform: translateY(-1px);
  }

  .btn svg {
    flex-shrink: 0;
  }

  /* Demo Section */
  .hero-demo {
    margin-bottom: var(--space-10);
  }

  .demo-tabs {
    display: flex;
    justify-content: center;
    gap: var(--space-1);
    margin-bottom: var(--space-4);
  }

  .demo-tab {
    padding: var(--space-2) var(--space-4);
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--text-muted);
    background: transparent;
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .demo-tab:hover {
    color: var(--text-secondary);
  }

  .demo-tab.active {
    color: var(--color-primary);
    background: var(--bg-elevated);
    border-color: var(--border-subtle);
  }

  .demo-container {
    position: relative;
  }

  .demo-window {
    background: var(--bg-terminal);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 10px 30px -5px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.03);
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .demo-window.active {
    display: block;
    opacity: 1;
  }

  .demo-window.fading-out {
    opacity: 0;
  }

  .demo-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    background: var(--bg-elevated);
    border-bottom: 1px solid var(--border-subtle);
  }

  .demo-header-right {
    margin-left: auto;
  }

  .model-badge {
    font-family: var(--font-mono);
    font-size: 10px;
    color: var(--color-primary);
    background: rgba(250, 178, 131, 0.1);
    padding: 2px 8px;
    border-radius: 4px;
    border: 1px solid rgba(250, 178, 131, 0.2);
  }

  .demo-lights {
    display: flex;
    gap: 6px;
  }

  .demo-lights span {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .demo-lights span:nth-child(1) { background: #ff5f56; }
  .demo-lights span:nth-child(2) { background: #ffbd2e; }
  .demo-lights span:nth-child(3) { background: #27ca3f; }

  .demo-title {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--text-muted);
  }

  /* CLI Demo */
  .demo-body {
    padding: var(--space-5) var(--space-6);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    min-height: 90px;
  }

  .demo-input-line {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
  }

  .prompt {
    color: var(--color-primary);
    font-weight: 600;
  }

  .typing-container {
    display: flex;
    align-items: center;
  }

  .typing-text {
    color: var(--text-primary);
  }

  .cursor {
    width: 8px;
    height: 18px;
    background: var(--color-primary);
    margin-left: 2px;
    animation: blink 1s step-end infinite;
  }

  .demo-output-line {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    opacity: 0;
    transform: translateY(4px);
    transition: all 0.25s ease;
  }

  .demo-output-line.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .output-arrow {
    color: var(--color-success);
  }

  .output-text {
    color: var(--text-secondary);
  }

  /* TUI Demo */
  .tui-body {
    display: flex;
    flex-direction: column;
    min-height: 300px;
  }

  .tui-status-bar {
    display: flex;
    gap: var(--space-4);
    padding: var(--space-2) var(--space-4);
    background: var(--bg-surface);
    border-bottom: 1px solid var(--border-subtle);
    font-family: var(--font-mono);
    font-size: 10px;
  }

  .status-item {
    color: var(--text-muted);
  }

  .status-key {
    color: var(--text-dim);
  }

  .mode-safe {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: 4px;
    color: var(--color-success);
  }

  .status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--color-success);
  }

  .tui-output {
    flex: 1;
    padding: var(--space-4);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    overflow: hidden;
  }

  .tui-message {
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.3s ease;
  }

  .tui-message.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .user-message {
    display: flex;
    gap: var(--space-2);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
  }

  .msg-prefix {
    color: var(--color-primary);
    font-weight: 600;
  }

  .msg-text {
    color: var(--text-primary);
  }

  .ai-message {
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-md);
    padding: var(--space-3);
  }

  .ai-response {
    margin-bottom: var(--space-2);
  }

  .response-label {
    font-family: var(--font-mono);
    font-size: 10px;
    color: var(--text-muted);
    margin-bottom: 4px;
  }

  .response-command {
    display: block;
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--color-secondary);
    background: none;
    padding: 0;
    word-break: break-all;
  }

  .safety-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-family: var(--font-mono);
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 4px;
  }

  .safety-badge.low {
    color: var(--color-success);
    background: rgba(127, 216, 143, 0.1);
  }

  .safety-badge.medium {
    color: var(--color-warning);
    background: rgba(245, 167, 66, 0.1);
  }

  .safety-badge.high {
    color: var(--color-error);
    background: rgba(224, 108, 117, 0.1);
  }

  .safety-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
  }

  /* Execution output */
  .exec-message {
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    font-family: var(--font-mono);
  }

  .exec-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
  }

  .exec-icon {
    color: var(--color-success);
    font-weight: 600;
  }

  .exec-label {
    font-size: 10px;
    color: var(--color-success);
  }

  .exec-output {
    font-size: var(--text-xs);
    color: var(--text-secondary);
    margin: 0;
    white-space: pre-wrap;
    line-height: 1.5;
  }

  .tui-input-area {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-4);
    background: var(--bg-surface);
    border-top: 1px solid var(--border-subtle);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
  }

  .tui-prompt {
    color: var(--color-primary);
    font-weight: 600;
  }

  .tui-input-text {
    color: var(--text-primary);
  }

  .tui-cursor {
    width: 8px;
    height: 16px;
    background: var(--color-primary);
    animation: blink 1s step-end infinite;
  }

  .tui-help-bar {
    display: flex;
    gap: var(--space-4);
    padding: var(--space-2) var(--space-4);
    background: var(--bg-elevated);
    border-top: 1px solid var(--border-subtle);
    font-family: var(--font-mono);
    font-size: 10px;
  }

  .help-item {
    color: var(--text-dim);
  }

  .help-item kbd {
    color: var(--text-muted);
    background: var(--bg-surface);
    padding: 1px 4px;
    border-radius: 2px;
    margin-right: 4px;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* Install section */
  .hero-install {
    display: flex;
    justify-content: center;
  }

  .hero-install :global(.install-block) {
    max-width: 500px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero {
      padding: var(--space-12) 0 var(--space-10);
    }

    .hero-content {
      padding: 0 var(--space-4);
    }

    .hero-title {
      font-size: clamp(1.75rem, 7vw, 2.5rem);
    }

    .hero-subtitle {
      font-size: var(--text-base);
    }

    .hero-actions {
      flex-direction: column;
      align-items: center;
    }

    .btn {
      width: 100%;
      max-width: 260px;
      justify-content: center;
    }

    .demo-body {
      padding: var(--space-4);
      font-size: var(--text-xs);
    }

    .tui-body {
      min-height: 280px;
    }

    .tui-help-bar {
      display: none;
    }

    .tui-status-bar {
      flex-wrap: wrap;
      gap: var(--space-2);
    }
  }

  @media (max-width: 480px) {
    .demo-tabs {
      gap: 0;
    }

    .demo-tab {
      padding: var(--space-2) var(--space-3);
    }
  }
</style>
